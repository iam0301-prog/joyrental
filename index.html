<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JoyRental - ç™‚ç™’ç³»æ™ºèƒ½ç§Ÿå±‹å¹³å°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            transition: all 0.3s ease;
        }

        /* å°ˆæ¥­æ¨¡å¼ - ç±³ç™½åº•è‰²ï¼Œé»‘ç´…é…è‰² */
        body.theme-professional {
            --bg-main: #FAF7F0;
            --primary: #2C3E50;
            --accent: #E74C3C;
            --text-primary: #2C3E50;
            --text-secondary: #7F8C8D;
            --card-bg: #FFFFFF;
            --bg-gradient: linear-gradient(135deg, #2C3E50 0%, #E74C3C 100%);
            --card-shadow: 0 4px 20px rgba(44, 62, 80, 0.1);
            --filter-bg: #FDFCFA;
        }

        /* ç™‚ç™’æ¨¡å¼ - æ©˜è‰²åº•è‰²ï¼Œæš–è‰²ç³» */
        body.theme-healing {
            --bg-main: #FFF5E6;
            --primary: #FF8C42;
            --accent: #FFD23F;
            --text-primary: #5D4037;
            --text-secondary: #8D6E63;
            --card-bg: #FFF8F0;
            --bg-gradient: linear-gradient(135deg, #FF8C42 0%, #FFB347 100%);
            --card-shadow: 0 4px 20px rgba(255, 140, 66, 0.15);
            --filter-bg: #FFF9F2;
        }

        /* è‡ªè¨‚æ¨¡å¼ */
        body.theme-custom {
            --bg-main: var(--custom-bg, #F0F8FF);
            --primary: var(--custom-primary, #4A90E2);
            --accent: var(--custom-accent, #7B68EE);
            --text-primary: var(--custom-text, #333333);
            --text-secondary: #666666;
            --card-bg: #FFFFFF;
            --bg-gradient: linear-gradient(135deg, var(--custom-primary, #4A90E2) 0%, var(--custom-accent, #7B68EE) 100%);
            --card-shadow: 0 4px 20px rgba(74, 144, 226, 0.15);
            --filter-bg: #F8FBFF;
        }

        body.font-small { font-size: 14px; }
        body.font-normal { font-size: 16px; }
        body.font-large { font-size: 18px; }
        body.font-xlarge { font-size: 20px; }

        body {
            background-color: var(--bg-main);
            color: var(--text-primary);
        }

        /* è¼‰å…¥ç•«é¢ */
        .splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #FF8C42 0%, #FFD23F 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            animation: fadeOut 0.5s ease 2s forwards;
        }

        .splash-content {
            text-align: center;
            color: white;
            animation: fadeIn 1s ease;
        }

        .splash-chinese {
            font-size: 72px;
            font-weight: 300;
            margin-bottom: 10px;
            letter-spacing: 10px;
        }

        .splash-english {
            font-size: 20px;
            letter-spacing: 8px;
            opacity: 0.9;
            margin-bottom: 30px;
        }

        .splash-brand {
            font-size: 42px;
            font-weight: bold;
            margin-top: 20px;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeOut {
            to { 
                opacity: 0;
                visibility: hidden;
                display: none;
            }
        }

        /* å°èˆªåˆ— */
        .navbar {
            background: var(--card-bg);
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
            padding: 1rem 0;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-links {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .nav-links a {
            color: var(--text-primary);
            text-decoration: none;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: var(--accent);
        }

        /* ä¸»é¡Œåˆ‡æ›æŒ‰éˆ• */
        .theme-switcher {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .theme-btn {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s;
        }

        .theme-btn:hover {
            transform: scale(1.1);
        }

        .theme-btn.active {
            border-color: #333;
            box-shadow: 0 0 0 3px rgba(0,0,0,0.1);
        }

        .theme-btn.professional { background: linear-gradient(135deg, #2C3E50, #E74C3C); }
        .theme-btn.healing { background: linear-gradient(135deg, #FF8C42, #FFB347); }
        .theme-btn.custom { background: linear-gradient(135deg, #4A90E2, #7B68EE); }

        /* è‹±é›„å€å¡Š */
        .hero {
            background: var(--bg-gradient);
            color: white;
            padding: 60px 20px 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero-content {
            position: relative;
            z-index: 1;
            max-width: 1200px;
            margin: 0 auto;
        }

        .hero h1 {
            font-size: 48px;
            margin-bottom: 20px;
        }

        .hero p {
            font-size: 20px;
            margin-bottom: 30px;
            opacity: 0.95;
        }

        /* æœå°‹èˆ‡ç¯©é¸å®¹å™¨ */
        .search-filter-container {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            margin: 0 auto;
            max-width: 100%;
        }

        .search-box {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }

        .search-input {
            flex: 1;
            border: 2px solid var(--primary);
            padding: 15px 25px;
            font-size: 16px;
            outline: none;
            color: var(--text-primary);
            border-radius: 50px;
            background: white;
        }

        .search-btn {
            background: var(--accent);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 50px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            white-space: nowrap;
        }

        .search-btn:hover {
            transform: scale(1.05);
        }

        /* ç¯©é¸å™¨ */
        .filter-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
        }

        .filter-label {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-weight: 600;
        }

        .filter-select {
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 10px;
            background: var(--filter-bg);
            color: var(--text-primary);
            cursor: pointer;
            outline: none;
            transition: all 0.3s;
        }

        .filter-select:hover, .filter-select:focus {
            border-color: var(--primary);
        }

        /* å¿«é€Ÿæ¨™ç±¤ */
        .quick-tags {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }

        .tag-group {
            margin-bottom: 15px;
        }

        .tag-label {
            display: inline-block;
            font-size: 13px;
            font-weight: 600;
            color: var(--text-primary);
            margin-right: 10px;
            min-width: 80px;
        }

        .tag-btn {
            background: var(--filter-bg);
            border: 1px solid #ddd;
            padding: 6px 12px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            color: var(--text-primary);
            font-size: 13px;
            margin: 3px;
        }

        .tag-btn:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .tag-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        /* ä¸€ç«™å¼æœå‹™å€ */
        .services {
            padding: 60px 20px;
            background: var(--bg-main);
        }

        .services-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-title {
            text-align: center;
            font-size: 36px;
            margin-bottom: 20px;
            color: var(--text-primary);
        }

        .section-subtitle {
            text-align: center;
            font-size: 18px;
            color: var(--text-secondary);
            margin-bottom: 50px;
        }

        .service-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
        }

        .service-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            box-shadow: var(--card-shadow);
            transition: all 0.3s;
            cursor: pointer;
            border: 2px solid transparent;
        }

        .service-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.2);
            border-color: var(--primary);
        }

        .service-icon {
            font-size: 48px;
            margin-bottom: 15px;
            display: block;
        }

        .service-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--text-primary);
        }

        .service-desc {
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .service-badge {
            display: inline-block;
            background: var(--accent);
            color: white;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 11px;
            margin-top: 10px;
            font-weight: bold;
        }

        /* åŠŸèƒ½å±•ç¤º */
        .features {
            padding: 60px 20px;
            background: white;
        }

        .feature-grid {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }

        .feature-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 25px 15px;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
            transition: all 0.3s;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }

        .feature-icon {
            font-size: 36px;
            margin-bottom: 10px;
        }

        .feature-card h3 {
            font-size: 14px;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .feature-card p {
            font-size: 12px;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        /* æˆ¿æºå±•ç¤º */
        .properties {
            background: var(--bg-main);
            padding: 60px 20px;
        }

        .property-grid {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .property-card {
            background: var(--card-bg);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: var(--card-shadow);
            transition: all 0.3s;
            cursor: pointer;
        }

        .property-card:hover {
            transform: scale(1.02);
            box-shadow: 0 15px 40px rgba(0,0,0,0.2);
        }

        .property-image {
            height: 200px;
            background-size: cover;
            background-position: center;
            position: relative;
        }

        .property-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: var(--accent);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
        }

        .view-360 {
            position: absolute;
            bottom: 15px;
            right: 15px;
            background: rgba(255,255,255,0.9);
            backdrop-filter: blur(10px);
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            color: var(--text-primary);
        }

        .view-360:hover {
            background: white;
            transform: scale(1.1);
        }

        .property-info {
            padding: 25px;
        }

        .property-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--text-primary);
        }

        .property-location {
            color: var(--text-secondary);
            margin-bottom: 15px;
        }

        .property-features {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 20px;
        }

        .feature-tag {
            background: var(--filter-bg);
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 12px;
            color: var(--text-secondary);
        }

        .property-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 20px;
            border-top: 1px solid var(--filter-bg);
        }

        .property-price {
            font-size: 24px;
            font-weight: bold;
            color: var(--primary);
        }

        .property-actions {
            display: flex;
            gap: 10px;
        }

        .action-btn {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .action-btn:hover {
            transform: scale(1.2);
        }

        .view-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 10px 25px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .view-btn:hover {
            background: var(--accent);
            transform: scale(1.05);
        }

        /* 360ç’°æ™¯æ¨¡æ…‹æ¡† */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            width: 90%;
            max-width: 1200px;
            height: 70vh;
            position: relative;
        }

        .panorama {
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            cursor: grab;
            border-radius: 10px;
            position: relative;
        }

        .panorama-controls {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            background: rgba(255,255,255,0.9);
            padding: 10px 20px;
            border-radius: 25px;
        }

        .control-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 14px;
        }

        .control-btn:hover {
            background: var(--accent);
        }

        .close-modal {
            position: absolute;
            top: -40px;
            right: 0;
            color: white;
            font-size: 36px;
            cursor: pointer;
            background: none;
            border: none;
        }

        /* æœå‹™è©³æƒ…å½ˆçª— */
        .service-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 3000;
            align-items: center;
            justify-content: center;
        }

        .service-modal.active {
            display: flex;
        }

        .service-modal-content {
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
        }

        .service-modal h3 {
            font-size: 24px;
            margin-bottom: 20px;
            color: var(--text-primary);
        }

        .service-modal ul {
            text-align: left;
            line-height: 2;
            margin: 20px 0;
        }

        .service-modal li {
            margin-bottom: 10px;
            color: var(--text-secondary);
        }

        .service-highlight {
            color: var(--accent);
            font-weight: bold;
            font-size: 18px;
            margin: 20px 0;
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--text-secondary);
        }

        .modal-action-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 16px;
            margin-top: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .modal-action-btn:hover {
            background: var(--accent);
            transform: scale(1.05);
        }

        /* é€šçŸ¥æç¤º */
        .notification {
            position: fixed;
            bottom: 100px;
            right: 20px;
            background: var(--primary);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
            transform: translateX(400px);
            transition: transform 0.3s ease;
            z-index: 3000;
        }

        .notification.show {
            transform: translateX(0);
        }

        @media (max-width: 768px) {
            .filter-section {
                grid-template-columns: 1fr;
            }
            .service-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            .feature-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            .property-grid {
                grid-template-columns: 1fr;
            }
            .hero h1 {
                font-size: 32px;
            }
        }
    </style>
</head>
<body class="theme-professional font-normal">
    <!-- è¼‰å…¥ç•«é¢ -->
    <div class="splash-screen" id="splashScreen">
        <div class="splash-content">
            <div class="splash-chinese">å¹³å®‰</div>
            <div class="splash-english">PEACE</div>
            <div style="width: 100px; height: 2px; background: white; margin: 20px auto;"></div>
            <div class="splash-chinese">å–œæ¨‚</div>
            <div class="splash-english">JOY</div>
            <div class="splash-brand">JoyRental</div>
        </div>
    </div>

    <!-- å°èˆªåˆ— -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <span>ğŸ </span>
                <span>JoyRental</span>
            </div>
            
            <div class="nav-links">
                <a href="#home">é¦–é </a>
                <a href="#services">ä¸€ç«™å¼æœå‹™</a>
                <a href="#features">åŠŸèƒ½</a>
                <a href="#properties">æˆ¿æº</a>
                
                <!-- ä¸»é¡Œåˆ‡æ›æŒ‰éˆ• -->
                <div class="theme-switcher">
                    <button class="theme-btn professional active" onclick="setTheme('professional')" title="å°ˆæ¥­"></button>
                    <button class="theme-btn healing" onclick="setTheme('healing')" title="ç™‚ç™’"></button>
                    <button class="theme-btn custom" onclick="setTheme('custom')" title="è‡ªè¨‚"></button>
                </div>
            </div>
        </div>
    </nav>

    <!-- è‹±é›„å€å¡Š -->
    <section class="hero" id="home">
        <div class="hero-content">
            <h1>ğŸŒŸ å¹³å®‰å–œæ¨‚ æ‰¾åˆ°å¿ƒéˆçš„å®¶</h1>
            <p>AIæ™ºèƒ½é…å° Ã— 360Â°ç’°æ™¯çœ‹æˆ¿ Ã— ç¤¾ç¾¤äº’å‹•è©•åƒ¹</p>
            
            <!-- æœå°‹èˆ‡ç¯©é¸ -->
            <div class="search-filter-container">
                <div class="search-box">
                    <input type="text" class="search-input" id="searchInput" placeholder="è¼¸å…¥åœ°å€ã€ç¤¾å€æˆ–é—œéµå­—...">
                    <button class="search-btn" onclick="searchProperties()">ğŸ” æ™ºèƒ½æœå°‹</button>
                </div>
                
                <!-- ç¯©é¸å™¨ -->
                <div class="filter-section">
                    <div class="filter-group">
                        <label class="filter-label">åœ°å€</label>
                        <select class="filter-select" id="areaFilter" onchange="filterProperties()">
                            <option value="">æ‰€æœ‰åœ°å€</option>
                            <option value="ä¸­æ­£å€">ä¸­æ­£å€</option>
                            <option value="å¤§å®‰å€">å¤§å®‰å€</option>
                            <option value="ä¿¡ç¾©å€">ä¿¡ç¾©å€</option>
                            <option value="æ¿æ©‹å€">æ¿æ©‹å€</option>
                            <option value="æ–°åº—å€">æ–°åº—å€</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label class="filter-label">æ·é‹ç«™</label>
                        <select class="filter-select" id="mrtFilter" onchange="filterProperties()">
                            <option value="">æ‰€æœ‰æ·é‹ç«™</option>
                            <option value="å°åŒ—è»Šç«™">å°åŒ—è»Šç«™</option>
                            <option value="å¸‚æ”¿åºœç«™">å¸‚æ”¿åºœç«™</option>
                            <option value="æ¿æ©‹ç«™">æ¿æ©‹ç«™</option>
                            <option value="å¤äº­ç«™">å¤äº­ç«™</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label class="filter-label">ç§Ÿé‡‘ç¯„åœ</label>
                        <select class="filter-select" id="priceFilter" onchange="filterProperties()">
                            <option value="">ä¸é™</option>
                            <option value="0-10000">10,000ä»¥ä¸‹</option>
                            <option value="10000-20000">10,000-20,000</option>
                            <option value="20000-30000">20,000-30,000</option>
                            <option value="30000-999999">30,000ä»¥ä¸Š</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label class="filter-label">æˆ¿å‹</label>
                        <select class="filter-select" id="typeFilter" onchange="filterProperties()">
                            <option value="">ä¸é™</option>
                            <option value="å¥—æˆ¿">å¥—æˆ¿</option>
                            <option value="é›…æˆ¿">é›…æˆ¿</option>
                            <option value="æ•´å±¤">æ•´å±¤</option>
                            <option value="1æˆ¿">1æˆ¿</option>
                            <option value="2æˆ¿">2æˆ¿</option>
                            <option value="3æˆ¿">3æˆ¿</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label class="filter-label">åªæ•¸</label>
                        <select class="filter-select" id="sizeFilter" onchange="filterProperties()">
                            <option value="">ä¸é™</option>
                            <option value="0-10">10åªä»¥ä¸‹</option>
                            <option value="10-20">10-20åª</option>
                            <option value="20-30">20-30åª</option>
                            <option value="30-999">30åªä»¥ä¸Š</option>
                        </select>
                    </div>
                </div>
                
                <!-- å¿«é€Ÿæ¨™ç±¤ -->
                <div class="quick-tags">
                    <div class="tag-group">
                        <span class="tag-label">è¨­å‚™ï¼š</span>
                        <button class="tag-btn" onclick="toggleTag(this, 'cooking')">å¯é–‹ä¼™</button>
                        <button class="tag-btn" onclick="toggleTag(this, 'pet')">å¯é¤Šå¯µç‰©</button>
                        <button class="tag-btn" onclick="toggleTag(this, 'parking')">å«è»Šä½</button>
                        <button class="tag-btn" onclick="toggleTag(this, 'balcony')">é™½å°</button>
                        <button class="tag-btn" onclick="toggleTag(this, 'elevator')">é›»æ¢¯</button>
                        <button class="tag-btn" onclick="toggleTag(this, 'washer')">æ´—è¡£æ©Ÿ</button>
                        <button class="tag-btn" onclick="toggleTag(this, 'ac')">å†·æ°£</button>
                        <button class="tag-btn" onclick="toggleTag(this, 'new')">æ–°è£æ½¢</button>
                    </div>
                    
                    <div class="tag-group">
                        <span class="tag-label">æ¢ä»¶ï¼š</span>
                        <button class="tag-btn" onclick="toggleTag(this, 'mrt5')">è¿‘æ·é‹5åˆ†é˜</button>
                        <button class="tag-btn" onclick="toggleTag(this, 'school')">è¿‘å­¸æ ¡</button>
                        <button class="tag-btn" onclick="toggleTag(this, 'market')">è¿‘å¸‚å ´</button>
                        <button class="tag-btn" onclick="toggleTag(this, 'management')">ç®¡ç†å®¤</button>
                        <button class="tag-btn" onclick="toggleTag(this, 'garbage')">åƒåœ¾ä»£æ”¶</button>
                        <button class="tag-btn" onclick="toggleTag(this, 'bills')">å«æ°´é›»</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ä¸€ç«™å¼æœå‹™å€ -->
    <section class="services" id="services">
        <div class="services-container">
            <h2 class="section-title">ğŸ† é©å‘½æ€§ä¸€ç«™å¼æœå‹™</h2>
            <p class="section-subtitle">å¾æ‰¾æˆ¿åˆ°å…¥ä½ï¼Œå¾ç¹³ç§Ÿåˆ°å ±ç¨…ï¼Œå…¨ç¨‹ç‚ºæ‚¨æœå‹™</p>
            
            <div class="service-grid">
                <div class="service-card" onclick="openServiceDetail('accounting')">
                    <span class="service-icon">ğŸ’°</span>
                    <h3 class="service-title">è‡ªå‹•å°å¸³ç³»çµ±</h3>
                    <p class="service-desc">æˆ¿ç§Ÿæ”¶æ”¯è‡ªå‹•è¨˜éŒ„<br>éŠ€è¡Œå¸³æˆ¶æ™ºèƒ½å°å¸³</p>
                    <span class="service-badge">çœæ™‚90%</span>
                </div>
                
                <div class="service-card" onclick="openServiceDetail('reminder')">
                    <span class="service-icon">â°</span>
                    <h3 class="service-title">æ™ºèƒ½ç¹³ç§Ÿæé†’</h3>
                    <p class="service-desc">LINEè‡ªå‹•é€šçŸ¥<br>æ°¸ä¸éŒ¯éç¹³ç§Ÿæ—¥</p>
                    <span class="service-badge">0é€¾æœŸ</span>
                </div>
                
                <div class="service-card" onclick="openServiceDetail('subsidy')">
                    <span class="service-icon">ğŸ›ï¸</span>
                    <h3 class="service-title">æ”¿åºœè£œåŠ©ç”³è«‹</h3>
                    <p class="service-desc">ä¸€éµç”³è«‹ç§Ÿå±‹è£œåŠ©<br>æœ€é«˜æ¯æœˆ$8,000</p>
                    <span class="service-badge">ç†±é–€</span>
                </div>
                
                <div class="service-card" onclick="openServiceDetail('tax')">
                    <span class="service-icon">ğŸ“‹</span>
                    <h3 class="service-title">è‡ªå‹•å ±ç¨…æœå‹™</h3>
                    <p class="service-desc">ç§Ÿé‡‘åˆ—èˆ‰æ‰£é™¤<br>å¹´çœæ•¸åƒå…ƒç¨…é‡‘</p>
                    <span class="service-badge">åˆæ³•ç¯€ç¨…</span>
                </div>
                
                <div class="service-card" onclick="openServiceDetail('contract')">
                    <span class="service-icon">ğŸ“„</span>
                    <h3 class="service-title">ç·šä¸Šç°½ç´„ç³»çµ±</h3>
                    <p class="service-desc">å…§æ”¿éƒ¨å®šå‹åŒ–å¥‘ç´„<br>é›»å­ç°½ååˆæ³•æœ‰æ•ˆ</p>
                    <span class="service-badge">å®‰å…¨</span>
                </div>
                
                <div class="service-card" onclick="openServiceDetail('invoice')">
                    <span class="service-icon">ğŸ§¾</span>
                    <h3 class="service-title">é›»å­ç™¼ç¥¨ç®¡ç†</h3>
                    <p class="service-desc">è‡ªå‹•é–‹ç«‹é›»å­ç™¼ç¥¨<br>è¼‰å…·æ­¸æˆ¶ä¸­çé€šçŸ¥</p>
                    <span class="service-badge">ä¾¿åˆ©</span>
                </div>
                
                <div class="service-card" onclick="openServiceDetail('repair')">
                    <span class="service-icon">ğŸ”§</span>
                    <h3 class="service-title">ç¶­ä¿®åª’åˆå¹³å°</h3>
                    <p class="service-desc">èªè­‰å» å•†24Hæœå‹™<br>é€æ˜å ±åƒ¹æœ‰ä¿å›º</p>
                    <span class="service-badge">å¿«é€Ÿ</span>
                </div>
                
                <div class="service-card" onclick="openServiceDetail('moving')">
                    <span class="service-icon">ğŸ“¦</span>
                    <h3 class="service-title">æ¬å®¶æœå‹™å„ªæƒ </h3>
                    <p class="service-desc">å„ªè³ªæ¬å®¶å…¬å¸<br>æœƒå“¡å°ˆå±¬å„ªæƒ åƒ¹</p>
                    <span class="service-badge">çœéŒ¢</span>
                </div>
            </div>
        </div>
    </section>

    <!-- åŠŸèƒ½å±•ç¤º -->
    <section class="features" id="features">
        <h2 class="section-title">æ ¸å¿ƒåŠŸèƒ½</h2>
        <div class="feature-grid">
            <div class="feature-card">
                <div class="feature-icon">ğŸ¡</div>
                <h3>360Â°ç’°æ™¯</h3>
                <p>èº«è‡¨å…¶å¢ƒ<br>ç·šä¸Šçœ‹æˆ¿</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">ğŸ¤–</div>
                <h3>AIæ™ºèƒ½é…å°</h3>
                <p>ç²¾æº–æ¨è–¦<br>ç†æƒ³æˆ¿æº</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">ğŸ‘¥</div>
                <h3>ç¤¾ç¾¤è©•åƒ¹</h3>
                <p>çœŸå¯¦è©•è«–<br>é€æ˜åˆ†äº«</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">ğŸ›¡ï¸</div>
                <h3>é˜²è©ç³»çµ±</h3>
                <p>å¯¦åèªè­‰<br>å®‰å…¨ä¿éšœ</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">ğŸ“±</div>
                <h3>LINEæ•´åˆ</h3>
                <p>å³æ™‚é€šçŸ¥<br>ä¾¿åˆ©æºé€š</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">ğŸ˜ï¸</div>
                <h3>ç¤¾å€è³‡æ–™åº«</h3>
                <p>è©³ç´°è³‡è¨Š<br>ç”Ÿæ´»æ©Ÿèƒ½</p>
            </div>
        </div>
    </section>

    <!-- æˆ¿æºå±•ç¤º -->
    <section class="properties" id="properties">
        <h2 class="section-title">ç²¾é¸æˆ¿æº</h2>
        <div class="property-grid" id="propertyGrid"></div>
    </section>

    <!-- 360ç’°æ™¯æ¨¡æ…‹æ¡† -->
    <div class="modal" id="panoramaModal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeModal()">&times;</button>
            <div class="panorama" id="panoramaView">
                <div class="panorama-controls">
                    <button class="control-btn" onclick="rotatePanorama('left')">â† å·¦è½‰</button>
                    <button class="control-btn" onclick="rotatePanorama('right')">å³è½‰ â†’</button>
                    <button class="control-btn" onclick="zoomPanorama('in')">æ”¾å¤§ +</button>
                    <button class="control-btn" onclick="zoomPanorama('out')">ç¸®å° -</button>
                </div>
            </div>
        </div>
    </div>

    <!-- æœå‹™è©³æƒ…æ¨¡æ…‹æ¡† -->
    <div class="service-modal" id="serviceModal">
        <div class="service-modal-content">
            <button class="modal-close" onclick="closeServiceModal()">&times;</button>
            <div id="serviceModalContent"></div>
        </div>
    </div>

    <!-- é€šçŸ¥æç¤º -->
    <div class="notification" id="notification"></div>

    <script>
        // æˆ¿æºè³‡æ–™åº«
        const properties = [
            {
                id: 1,
                title: "é™½å…‰ç™‚ç™’å¥—æˆ¿",
                location: "æ¿æ©‹å€ å¹¸ç¦ç¤¾å€",
                area: "æ¿æ©‹å€",
                mrt: "æ¿æ©‹ç«™",
                price: 15000,
                size: 12,
                type: "å¥—æˆ¿",
                image: "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=800",
                panorama: "https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=2000",
                features: ["è¿‘æ·é‹", "å¯é¤Šå¯µç‰©", "é™½å°", "ç®¡ç†å®¤", "æ–°è£æ½¢"],
                badge: "ç†±é–€",
                isFavorite: false
            },
            {
                id: 2,
                title: "æ¥µç°¡é¢¨æ ¼å…¬å¯“",
                location: "ä¿¡ç¾©å€ éƒ½å¿ƒé¦–é¸",
                area: "ä¿¡ç¾©å€",
                mrt: "å¸‚æ”¿åºœç«™",
                price: 28000,
                size: 25,
                type: "2æˆ¿",
                image: "https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=800",
                panorama: "https://images.unsplash.com/photo-1600607687644-c7171b42498b?w=2000",
                features: ["æ–°è£æ½¢", "å¥èº«æˆ¿", "åœè»Šä½", "é›»æ¢¯", "åƒåœ¾ä»£æ”¶"],
                badge: "æ¨è–¦",
                isFavorite: false
            },
            {
                id: 3,
                title: "æ–‡é’å°å±‹",
                location: "å¤§å®‰å€ éœå··é›…å±…",
                area: "å¤§å®‰å€",
                mrt: "å¤äº­ç«™",
                price: 12000,
                size: 8,
                type: "é›…æˆ¿",
                image: "https://images.unsplash.com/photo-1493809842364-78817add7ffb?w=800",
                panorama: "https://images.unsplash.com/photo-1600607687920-4e2a09cf159d?w=2000",
                features: ["æ¡å…‰ä½³", "è¿‘å’–å•¡å»³", "å®‰éœ", "å¯é–‹ä¼™"],
                badge: "æ–°ä¸Šæ¶",
                isFavorite: false
            }
        ];

        // æœå‹™è©³æƒ…è³‡æ–™
        const serviceDetails = {
            'accounting': {
                title: 'ğŸ’° è‡ªå‹•å°å¸³ç³»çµ±',
                content: `
                    <h3>ğŸ’° æ™ºèƒ½è²¡å‹™ç®¡ç†ï¼Œè®“ç§Ÿå±‹è®Šç°¡å–®</h3>
                    <ul>
                        <li>âœ… <strong>è‡ªå‹•è¨˜å¸³ï¼š</strong>æ¯æœˆæˆ¿ç§Ÿæ”¶æ”¯è‡ªå‹•è¨˜éŒ„</li>
                        <li>âœ… <strong>éŠ€è¡Œä¸²æ¥ï¼š</strong>æ”¯æ´20+éŠ€è¡Œå¸³æˆ¶å°å¸³</li>
                        <li>âœ… <strong>æŠ¼é‡‘ç®¡ç†ï¼š</strong>æŠ¼é‡‘æ”¶é€€æ™ºèƒ½è¿½è¹¤</li>
                        <li>âœ… <strong>è²»ç”¨åˆ†æ”¤ï¼š</strong>æ°´é›»ç“¦æ–¯è²»è‡ªå‹•è¨ˆç®—</li>
                        <li>âœ… <strong>å ±è¡¨ç”¢å‡ºï¼š</strong>æœˆçµå¹´çµè²¡å‹™å ±è¡¨</li>
                        <li>âœ… <strong>ç•°å¸¸æé†’ï¼š</strong>å¸³å‹™ç•°å¸¸å³æ™‚é€šçŸ¥</li>
                    </ul>
                    <p class="service-highlight">æ¯æœˆç¯€çœ10å°æ™‚è¨˜å¸³æ™‚é–“ï¼</p>
                `
            },
            'reminder': {
                title: 'â° æ™ºèƒ½ç¹³ç§Ÿæé†’',
                content: `
                    <h3>â° å†ä¹Ÿä¸æ€•å¿˜è¨˜ç¹³ç§Ÿé‡‘</h3>
                    <ul>
                        <li>âœ… <strong>LINEé€šçŸ¥ï¼š</strong>æ•´åˆLINEå®˜æ–¹å¸³è™Ÿ</li>
                        <li>âœ… <strong>å¤šé‡æé†’ï¼š</strong>ç¹³ç§Ÿå‰7å¤©ã€3å¤©ã€1å¤©æé†’</li>
                        <li>âœ… <strong>è‡ªè¨‚æ™‚é–“ï¼š</strong>å¯è¨­å®šæé†’æ™‚é–“</li>
                        <li>âœ… <strong>é€¾æœŸå‚¬ç¹³ï¼š</strong>è‡ªå‹•ç™¼é€å‚¬ç¹³é€šçŸ¥</li>
                        <li>âœ… <strong>æ”¶æ¬¾ç¢ºèªï¼š</strong>æˆ¿æ±ç¢ºèªæ”¶æ¬¾é€šçŸ¥</li>
                        <li>âœ… <strong>ç¹³è²»è¨˜éŒ„ï¼š</strong>å®Œæ•´ç¹³è²»æ­·å²æŸ¥è©¢</li>
                    </ul>
                    <p class="service-highlight">0é€¾æœŸç¹³ç§Ÿï¼Œç¶­æŒè‰¯å¥½ä¿¡ç”¨ï¼</p>
                `
            },
            'subsidy': {
                title: 'ğŸ›ï¸ æ”¿åºœç§Ÿå±‹è£œåŠ©ç”³è«‹',
                content: `
                    <h3>ğŸ›ï¸ è¼•é¬†ç”³è«‹ï¼Œæ¯æœˆæœ€é«˜é ˜$8,000</h3>
                    <ul>
                        <li>âœ… <strong>300å„„ç§Ÿé‡‘è£œè²¼ï¼š</strong>å–®èº«æœ€é«˜$4,000/æœˆ</li>
                        <li>âœ… <strong>æ–°å©šå®¶åº­ï¼š</strong>æœ€é«˜$5,000/æœˆ</li>
                        <li>âœ… <strong>è‚²å…’å®¶åº­ï¼š</strong>æœ€é«˜$8,000/æœˆ</li>
                        <li>âœ… <strong>é’å¹´è£œåŠ©ï¼š</strong>18-35æ­²å°ˆæ¡ˆå„ªæƒ </li>
                        <li>âœ… <strong>è³‡æ ¼æª¢æ¸¬ï¼š</strong>å¿«é€Ÿæª¢æŸ¥ç”³è«‹è³‡æ ¼</li>
                        <li>âœ… <strong>æ–‡ä»¶æº–å‚™ï¼š</strong>ä¸€éµæº–å‚™æ‰€éœ€æ–‡ä»¶</li>
                        <li>âœ… <strong>é€²åº¦è¿½è¹¤ï¼š</strong>ç”³è«‹é€²åº¦å³æ™‚æŸ¥è©¢</li>
                    </ul>
                    <p class="service-highlight">å¹³å‡æ¯æˆ¶å¹´çœ$36,000ï¼</p>
                `
            },
            'tax': {
                title: 'ğŸ“‹ è‡ªå‹•å ±ç¨…æœå‹™',
                content: `
                    <h3>ğŸ“‹ åˆæ³•ç¯€ç¨…ï¼Œè°æ˜å ±ç¨…</h3>
                    <ul>
                        <li>âœ… <strong>æˆ¿æ±ç”³å ±ï¼š</strong>ç§Ÿé‡‘æ”¶å…¥è‡ªå‹•è¨ˆç®—</li>
                        <li>âœ… <strong>æˆ¿å®¢æ‰£é™¤ï¼š</strong>ç§Ÿé‡‘æ”¯å‡ºåˆ—èˆ‰æ‰£é™¤</li>
                        <li>âœ… <strong>æœ€é«˜æ‰£é™¤ï¼š</strong>æ¯å¹´12è¬ç§Ÿé‡‘æ‰£é™¤é¡</li>
                        <li>âœ… <strong>ç™¼ç¥¨æ­¸æˆ¶ï¼š</strong>é›»å­ç™¼ç¥¨è‡ªå‹•æ•´ç†</li>
                        <li>âœ… <strong>ç¨…é¡è©¦ç®—ï¼š</strong>é ä¼°æ‡‰ç¹³ç¨…é¡</li>
                        <li>âœ… <strong>ç”³å ±å”åŠ©ï¼š</strong>step by stepæ•™å­¸</li>
                    </ul>
                    <p class="service-highlight">åˆæ³•ç¯€ç¨…ï¼Œå¹´çœæ•¸åƒå…ƒï¼</p>
                `
            },
            'contract': {
                title: 'ğŸ“„ ç·šä¸Šç°½ç´„ç³»çµ±',
                content: `
                    <h3>ğŸ“„ å®‰å…¨ä¾¿åˆ©çš„é›»å­åˆç´„</h3>
                    <ul>
                        <li>âœ… <strong>å®šå‹åŒ–å¥‘ç´„ï¼š</strong>å…§æ”¿éƒ¨æ¨™æº–ç‰ˆæœ¬</li>
                        <li>âœ… <strong>é›»å­ç°½åï¼š</strong>å…·æ³•å¾‹æ•ˆåŠ›èªè­‰</li>
                        <li>âœ… <strong>é›²ç«¯å­˜è­‰ï¼š</strong>åˆç´„æ°¸ä¹…ä¿å­˜</li>
                        <li>âœ… <strong>åˆ°æœŸæé†’ï¼š</strong>çºŒç´„é€šçŸ¥æœå‹™</li>
                        <li>âœ… <strong>æ³•å¾‹è«®è©¢ï¼š</strong>å°ˆæ¥­å¾‹å¸«æ”¯æ´</li>
                        <li>âœ… <strong>ç³¾ç´›è™•ç†ï¼š</strong>èª¿è§£å”åŠ©æœå‹™</li>
                    </ul>
                    <p class="service-highlight">0ç³¾ç´›ï¼Œ100%å®‰å¿ƒï¼</p>
                `
            },
            'invoice': {
                title: 'ğŸ§¾ é›»å­ç™¼ç¥¨ç®¡ç†',
                content: `
                    <h3>ğŸ§¾ ç™¼ç¥¨ç®¡ç†å¥½è¼•é¬†</h3>
                    <ul>
                        <li>âœ… <strong>è‡ªå‹•é–‹ç«‹ï¼š</strong>æ¯æœˆå®šæ™‚é–‹ç™¼ç¥¨</li>
                        <li>âœ… <strong>è¼‰å…·æ­¸æˆ¶ï¼š</strong>æ‰‹æ©Ÿæ¢ç¢¼æ•´åˆ</li>
                        <li>âœ… <strong>ä¸­çé€šçŸ¥ï¼š</strong>è‡ªå‹•å°çæé†’</li>
                        <li>âœ… <strong>ç‡Ÿæ¥­ç¨…ç”³å ±ï¼š</strong>æˆ¿æ±å ±ç¨…å”åŠ©</li>
                        <li>âœ… <strong>é›²ç«¯å„²å­˜ï¼š</strong>ç™¼ç¥¨æ°¸ä¹…ä¿å­˜</li>
                        <li>âœ… <strong>æ˜ç´°ä¸‹è¼‰ï¼š</strong>Excelå ±è¡¨åŒ¯å‡º</li>
                    </ul>
                    <p class="service-highlight">ç™¼ç¥¨ç®¡ç†æ•¸ä½åŒ–ï¼</p>
                `
            },
            'repair': {
                title: 'ğŸ”§ ç¶­ä¿®åª’åˆå¹³å°',
                content: `
                    <h3>ğŸ”§ å¿«é€Ÿç¶­ä¿®ï¼Œå“è³ªä¿è­‰</h3>
                    <ul>
                        <li>âœ… <strong>24Hå ±ä¿®ï¼š</strong>å…¨å¤©å€™ç·šä¸Šå ±ä¿®</li>
                        <li>âœ… <strong>èªè­‰å» å•†ï¼š</strong>åš´é¸å„ªè³ªç¶­ä¿®å•†</li>
                        <li>âœ… <strong>é€æ˜å ±åƒ¹ï¼š</strong>äº‹å‰å ±åƒ¹ç„¡éš±è—è²»ç”¨</li>
                        <li>âœ… <strong>é€²åº¦è¿½è¹¤ï¼š</strong>ç¶­ä¿®ç‹€æ…‹å³æ™‚æ›´æ–°</li>
                        <li>âœ… <strong>ä¿å›ºæœå‹™ï¼š</strong>ç¶­ä¿®ä¿å›º3-12å€‹æœˆ</li>
                        <li>âœ… <strong>è©•åƒ¹ç³»çµ±ï¼š</strong>å» å•†è©•åˆ†æ©Ÿåˆ¶</li>
                    </ul>
                    <p class="service-highlight">å¹³å‡2å°æ™‚åˆ°åºœæœå‹™ï¼</p>
                `
            },
            'moving': {
                title: 'ğŸ“¦ æ¬å®¶æœå‹™å„ªæƒ ',
                content: `
                    <h3>ğŸ“¦ æ¬å®¶è¼•é¬†åˆçœéŒ¢</h3>
                    <ul>
                        <li>âœ… <strong>å„ªè³ªå» å•†ï¼š</strong>5æ˜Ÿæ¬å®¶å…¬å¸</li>
                        <li>âœ… <strong>ç·šä¸Šä¼°åƒ¹ï¼š</strong>æ‹ç…§å³å¯ä¼°åƒ¹</li>
                        <li>âœ… <strong>æœƒå“¡å„ªæƒ ï¼š</strong>å°ˆå±¬85æŠ˜å„ªæƒ </li>
                        <li>âœ… <strong>æ¬å®¶ä¿éšªï¼š</strong>ç‰©å“æå£è³ å„Ÿ</li>
                        <li>âœ… <strong>æ‰“åŒ…æœå‹™ï¼š</strong>å°ˆæ¥­æ‰“åŒ…å”åŠ©</li>
                        <li>âœ… <strong>æš«å­˜æœå‹™ï¼š</strong>çŸ­æœŸå€‰å„²æ–¹æ¡ˆ</li>
                    </ul>
                    <p class="service-highlight">æœƒå“¡å¹³å‡çœ$3,000ï¼</p>
                `
            }
        };

        // é¸ä¸­çš„æ¨™ç±¤
        let selectedTags = [];

        // ä¸»é¡Œåˆ‡æ›
        function setTheme(theme) {
            document.body.className = `theme-${theme} font-normal`;
            document.querySelectorAll('.theme-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`.theme-btn.${theme}`).classList.add('active');
            localStorage.setItem('theme', theme);
        }

        // æ¨™ç±¤åˆ‡æ›
        function toggleTag(btn, tag) {
            btn.classList.toggle('active');
            
            if (btn.classList.contains('active')) {
                selectedTags.push(tag);
            } else {
                selectedTags = selectedTags.filter(t => t !== tag);
            }
            
            filterProperties();
        }

        // æœå°‹åŠŸèƒ½
        function searchProperties() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const filtered = properties.filter(p => 
                p.title.toLowerCase().includes(searchTerm) ||
                p.location.toLowerCase().includes(searchTerm) ||
                p.features.some(f => f.toLowerCase().includes(searchTerm))
            );
            
            displayProperties(filtered);
            showNotification(`æ‰¾åˆ° ${filtered.length} å€‹ç¬¦åˆçš„æˆ¿æº`);
        }

        // ç¯©é¸åŠŸèƒ½
        function filterProperties() {
            let filtered = [...properties];
            
            const area = document.getElementById('areaFilter').value;
            if (area) filtered = filtered.filter(p => p.area === area);
            
            const mrt = document.getElementById('mrtFilter').value;
            if (mrt) filtered = filtered.filter(p => p.mrt === mrt);
            
            const priceRange = document.getElementById('priceFilter').value;
            if (priceRange) {
                const [min, max] = priceRange.split('-').map(Number);
                filtered = filtered.filter(p => p.price >= min && p.price <= max);
            }
            
            const type = document.getElementById('typeFilter').value;
            if (type) filtered = filtered.filter(p => p.type === type);
            
            const sizeRange = document.getElementById('sizeFilter').value;
            if (sizeRange) {
                const [min, max] = sizeRange.split('-').map(Number);
                filtered = filtered.filter(p => p.size >= min && p.size <= max);
            }
            
            displayProperties(filtered);
        }

        // é¡¯ç¤ºæˆ¿æº
        function displayProperties(propertiesToShow = properties) {
            const grid = document.getElementById('propertyGrid');
            
            if (propertiesToShow.length === 0) {
                grid.innerHTML = '<div style="text-align: center; padding: 40px; color: #999;">æ²’æœ‰ç¬¦åˆæ¢ä»¶çš„æˆ¿æº</div>';
                return;
            }
            
            grid.innerHTML = propertiesToShow.map(property => `
                <div class="property-card" onclick="viewProperty(${property.id})">
                    <div class="property-image" style="background-image: url('${property.image}')">
                        <span class="property-badge">${property.badge}</span>
                        <span class="view-360" onclick="event.stopPropagation(); open360(${property.id})">ğŸ“· 360Â°</span>
                    </div>
                    <div class="property-info">
                        <h3 class="property-title">${property.title}</h3>
                        <div class="property-location">ğŸ“ ${property.location}</div>
                        <div class="property-features">
                            ${property.features.slice(0, 4).map(f => `<span class="feature-tag">${f}</span>`).join('')}
                        </div>
                        <div class="property-footer">
                            <span class="property-price">$${property.price.toLocaleString()}/æœˆ</span>
                            <div class="property-actions">
                                <button class="action-btn" onclick="event.stopPropagation(); toggleFavorite(${property.id})">
                                    ${property.isFavorite ? 'â¤ï¸' : 'ğŸ¤'}
                                </button>
                                <button class="action-btn" onclick="event.stopPropagation(); shareProperty(${property.id})">
                                    ğŸ“¤
                                </button>
                                <button class="view-btn">æŸ¥çœ‹è©³æƒ…</button>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // é–‹å•Ÿæœå‹™è©³æƒ…
        function openServiceDetail(service) {
            const modal = document.getElementById('serviceModal');
            const content = document.getElementById('serviceModalContent');
            const detail = serviceDetails[service];
            
            if (detail) {
                content.innerHTML = detail.content + `
                    <button class="modal-action-btn" onclick="startService('${service}')">
                        ç«‹å³ä½¿ç”¨æ­¤æœå‹™
                    </button>
                `;
                modal.classList.add('active');
            }
        }

        // é—œé–‰æœå‹™æ¨¡æ…‹æ¡†
        function closeServiceModal() {
            document.getElementById('serviceModal').classList.remove('active');
        }

        // é–‹å§‹ä½¿ç”¨æœå‹™
        function startService(service) {
            closeServiceModal();
            showNotification('åŠŸèƒ½é–‹ç™¼ä¸­ï¼Œæ•¬è«‹æœŸå¾…ï¼');
        }

        // 360ç’°æ™¯ç›¸é—œ
        let currentPanoramaX = 0;
        let currentZoom = 100;

        function open360(id) {
            const property = properties.find(p => p.id === id);
            const modal = document.getElementById('panoramaModal');
            const panoramaView = document.getElementById('panoramaView');
            
            panoramaView.style.backgroundImage = `url('${property.panorama}')`;
            panoramaView.style.backgroundSize = `${currentZoom}% auto`;
            panoramaView.style.backgroundPosition = `${currentPanoramaX}% center`;
            modal.classList.add('active');
            
            showNotification('æ‹–æ›³æˆ–ä½¿ç”¨æ§åˆ¶æŒ‰éˆ•ä¾†ç€è¦½360Â°ç’°æ™¯');
        }

        function rotatePanorama(direction) {
            currentPanoramaX += (direction === 'left' ? -10 : 10);
            const panoramaView = document.getElementById('panoramaView');
            panoramaView.style.backgroundPosition = `${currentPanoramaX}% center`;
        }

        function zoomPanorama(type) {
            if (type === 'in' && currentZoom < 200) {
                currentZoom += 20;
            } else if (type === 'out' && currentZoom > 50) {
                currentZoom -= 20;
            }
            const panoramaView = document.getElementById('panoramaView');
            panoramaView.style.backgroundSize = `${currentZoom}% auto`;
        }

        function closeModal() {
            document.getElementById('panoramaModal').classList.remove('active');
            currentPanoramaX = 0;
            currentZoom = 100;
        }

        // å…¶ä»–åŠŸèƒ½
        function viewProperty(id) {
            showNotification('æ­£åœ¨è¼‰å…¥æˆ¿æºè©³æƒ…...');
        }

        function toggleFavorite(id) {
            const property = properties.find(p => p.id === id);
            property.isFavorite = !property.isFavorite;
            displayProperties(properties);
            showNotification(property.isFavorite ? 'å·²åŠ å…¥æ”¶è—' : 'å·²ç§»é™¤æ”¶è—');
        }

        function shareProperty(id) {
            const property = properties.find(p => p.id === id);
            if (navigator.share) {
                navigator.share({
                    title: property.title,
                    text: `${property.location} - $${property.price}/æœˆ`,
                    url: window.location.href
                });
            } else {
                showNotification('åˆ†äº«é€£çµå·²è¤‡è£½');
            }
        }

        // é€šçŸ¥åŠŸèƒ½
        function showNotification(message) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // éš±è—è¼‰å…¥ç•«é¢
        setTimeout(() => {
            const splash = document.getElementById('splashScreen');
            if (splash) {
                splash.style.display = 'none';
            }
        }, 2500);

        // åˆå§‹åŒ–
        window.onload = () => {
            const savedTheme = localStorage.getItem('theme') || 'professional';
            setTheme(savedTheme);
            displayProperties();
        };

        // æ‹–æ›³åŠŸèƒ½
        let isDragging = false;
        let startX = 0;

        document.addEventListener('DOMContentLoaded', function() {
            const panoramaView = document.getElementById('panoramaView');
            if (panoramaView) {
                panoramaView.addEventListener('mousedown', (e) => {
                    isDragging = true;
                    startX = e.clientX;
                    e.target.style.cursor = 'grabbing';
                });
            }
        });

        document.addEventListener('mousemove', (e) => {
            if (!isDragging) return;
            
            const deltaX = e.clientX - startX;
            currentPanoramaX += deltaX * 0.1;
            startX = e.clientX;
            
            const panoramaView = document.getElementById('panoramaView');
            if (panoramaView) {
                panoramaView.style.backgroundPosition = `${currentPanoramaX}% center`;
            }
        });

        document.addEventListener('mouseup', () => {
            isDragging = false;
            const panoramaView = document.getElementById('panoramaView');
            if (panoramaView) panoramaView.style.cursor = 'grab';
        });
    </script>
</body>
</html>
